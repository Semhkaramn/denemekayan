<!-- Debug için GET parametrelerini kontrol et -->
<script>
console.log("VIP Siteler Parametresi: yok");
console.log("VIP Banner Gösterilecek mi: evet");
console.log("Diamond Siteler Parametresi: yok");
console.log("Diamond Banner Gösterilecek mi: evet");
console.log("Normal Siteler Parametresi: yok");
console.log("Normal Banner Gösterilecek mi: evet");
</script>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CasinoHayalet | Güvenilir Siteler</title>
    
    <!-- Favicon -->
    <link rel="shortcut icon" href="img/siteicon.png">

    <!-- Google Fonts (Roboto örneği, ihtiyaca göre değiştir) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">

    <!-- Swiper CSS (En güncel ve çalışan CDN) -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

    <!-- Proje CSS Dosyaların -->
    <link rel="stylesheet" href="css/inline_styles.css">
    <link rel="stylesheet" href="css/app.css">
    <link rel="stylesheet" href="css/tema_dark.css">

    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">


    <!-- Swiper JS -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

    <!-- Color Thief -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.0/color-thief.umd.js"></script>

    <style>

#swiper {
    width: 100%;
    height: 300px;
    object-fit: cover;
}
@media (max-width:762px) {

    #swiper {
    width: 100%;
    height: 100px;
    object-fit: cover;
}

}

/* Dinamik renk değişkeni varsayılan değeri */
.banner-item {
    --site-color: #0037FF; /* Varsayılan renk */
}

/* Banner öğeleri için stil tanımları */
.fix-side {
    border-color: var(--site-color);
}
.fix-side .button {
    background-color: var(--site-color);
}

/* VIP, Diamond ve Normal banner öğeleri için stil tanımları */
.item.banner-item {
    border-color: var(--site-color);
}
.item.banner-item .button {
    background-color: var(--site-color);
}

/* Bottom fixed banner */
.bottom-fixed.banner-item {
    border-color: var(--site-color);
}
.bottom-fixed.banner-item h1 {
    color: var(--site-color);
}
.bottom-fixed.banner-item a {
    background: var(--site-color);
}

/* Pop-up banner */
.notify-fixed.banner-item {
    border-color: var(--site-color);
    z-index: 9999;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) !important;
}
.notify-fixed.banner-item h1 {
    color: var(--site-color);
}
.notify-fixed.banner-item h3 {
    color: var(--site-color);
}
.notify-fixed.banner-item a {
    background: var(--site-color);
    border: 1px solid var(--site-color);
}
.notify-fixed.banner-item .close svg path {
    stroke: var(--site-color);
}

/* Pop-up banner için overlay stili */
.popup-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.75);
    z-index: 9998;
    backdrop-filter: blur(3px);
}

/* Özel Siteler Bölümü Stilleri */
.ozel-siteler-banner {
    width: 100%;
    position: relative;
    z-index: 995; /* Header'ın altında olması için */
    transition: all 0.3s ease;
    padding: 10px 0;
    overflow: hidden;
    will-change: transform; /* Performans optimizasyonu */
    background-color: var(--menu, rgba(48, 48, 48, 0.6)); /* Varsayılan olarak yarı saydam gri */
    backdrop-filter: blur(0px);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.ozel-siteler-banner.fixed {
    position: fixed;
    top: 70px; /* Header'ın yüksekliği 70px */
    left: 0;
    right: 0;
    background-color: rgba(0, 0, 0, 0.6); /* Header fixed background ile aynı ton */
    backdrop-filter: blur(4px);
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.3);
    transition: all ease 0.4s;
}

/* Header fixed olduğunda ekstra boşluk için */
.kayan-bant-spacer {
    display: none;
    height: 62px; /* Kayan bant yüksekliği + padding */
}

.kayan-bant-spacer.active {
    display: block;
}

.ozel-siteler-container {
    width: 100%;
    margin: 0 auto;
    position: relative;
    overflow: hidden;
}

.ozel-siteler-slider {
    display: flex;
    gap: 15px;
    padding: 5px 0;
    overflow: hidden;
    position: relative;
    width: 100%;
}

/* Ana animasyon - masaüstü için (sağdan başlar) */
@keyframes marquee-desktop {
    0% {
        transform: translateX(100%); /* Ekranın sağından başla */
    }
    100% {
        transform: translateX(-100%); /* Sola doğru kayıp git */
    }
}

/* Mobil cihazlar için animasyon (sağdan başlar ama direkt ekranda görünür) */
@keyframes marquee-mobile {
    0% {
        transform: translateX(5%); /* Sağdan başla ama direkt ekranda görünür olsun */
    }
    100% {
        transform: translateX(-100%); /* Sola doğru tamamen kayıp git */
    }
}

/* Varsayılan olarak masaüstü animasyonu kullan */
.slider-content {
    display: flex;
    gap: 40px;
    padding: 5px 0;
    white-space: nowrap;
    width: max-content;
    position: relative;
    will-change: transform; /* Performans optimizasyonu */
    animation: marquee-desktop 15s linear infinite; /* Masaüstünde daha da hızlı olması için 15s */
}

.site-item {
    display: inline-flex;
    align-items: center;
    padding: 5px 15px;
    border-radius: 8px;
    background-color: rgba(255, 255, 255, 0.05);
    transition: all 0.3s ease;
    text-decoration: none;
    position: relative;
    overflow: hidden;
    --band-color: #FF9900; /* Varsayılan renk */
    --band-color-rgb: 255, 153, 0; /* Varsayılan RGB değerleri */
}

.site-item:before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, transparent 10%, rgba(var(--band-color-rgb), 0.4) 60%, rgba(var(--band-color-rgb), 0.8) 100%);
    z-index: -1;
    transition: opacity 0.3s ease;
}

.site-item:hover {
    background-color: rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
}

.site-item:hover:before {
    opacity: 0.25;
}

.site-item img {
    height: 40px;
    width: auto;
    margin-right: 10px;
    border-radius: 5px;
}

.giris-btn {
    background: var(--band-color);
    text-align: center;
    border-radius: 30px;
    height: 30px;
    font-size: 12px;
    font-weight: bold;
    padding: 0 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    white-space: nowrap;
    transition: all 0.2s ease;
}

.site-item:hover .giris-btn {
    transform: scale(1.05);
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

/* Mobil Uyumluluk */
@media (max-width: 768px) {
    .ozel-siteler-banner {
        padding: 6px 0;
    }
    
    .ozel-siteler-banner.fixed {
        top: 70px; /* Header yüksekliği ile aynı */
    }
    
    .kayan-bant-spacer {
        height: 52px; /* Mobilde daha küçük yükseklik */
    }
    
    .slider-content {
        gap: 15px;
        animation: marquee-mobile 25s linear infinite; /* Mobil animasyonu kullan */
    }
    
    .site-item {
        padding: 3px 10px;
    }
    
    .site-item img {
        height: 30px;
        margin-right: 8px;
    }
    
    .giris-btn {
        padding: 3px 8px;
        font-size: 10px;
    }
}

/* Çok küçük ekranlar için ek düzenlemeler */
@media (max-width: 480px) {
    .ozel-siteler-banner.fixed {
        top: 50px; /* Daha küçük ekranlarda header daha küçük olabilir */
    }
    
    .site-item img {
        height: 25px;
        margin-right: 6px;
    }
    
    .slider-content {
        animation: marquee-mobile 22s linear infinite; /* Mobil animasyonu kullan */
    }
}

@media (max-width: 768px) {
    .desktop-only {
        display: none;
    }
}

html, body {
  overflow-y: auto !important;
  height: auto !important;
}

#app-v-page {
  overflow-y: auto !important;
  height: auto !important;
  position: relative !important;
}

/* 4 lü animasyon */        
.img-container {
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 10px;
    padding: 10px;
}

.img-box {
    position: relative;
    width: calc(25% - 10px);
    height: 300px;
    overflow: hidden;
    border-radius: 20px;
    flex-grow: 1;
}

.background-img {
    width: 100%;
    height: 100%;
    display: block;
    transition: opacity 0.5s ease;
    border-radius: 20px;
    opacity: 0.9;
    border: 2px solid var(--site-color);
}

.overlay-img {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    transition: bottom 0.5s ease, opacity 0.5s ease;
    opacity: 1;
}

.hovertext {
    position: absolute;
	 width: 90%;
    bottom: -30px;
    left: 50%;
    transform: translateX(-50%);
    color: white;
    font-size: 16px;
    font-weight: bold;
    text-align: center;
    opacity: 0;
    transition: opacity 0.5s ease, bottom 0.5s ease;
}

.img-box:hover .background-img {
    opacity: 0.3;
}

.img-box:hover .overlay-img {
    bottom: 50%;
    transform: translate(-50%, 50%);
}

.img-box:hover .hovertext {
    bottom: 20px;
    opacity: 1;
}

@media (max-width: 768px) {
    .img-box {
        width: calc(50% - 10px);
    }
}

@media (max-width: 480px) {
    .img-box {
        width: 40%;
        height: 80%;
    }

    .overlay-img {
        top: 10px;
        bottom: auto;
        width: 70%;
    }

    .overlay-img img {
        width: 100%;
        height: auto;
        display: block;
        margin: 0 auto;
    }

    .hovertext {
        bottom: 20px;
        opacity: 1;
        width: 90%;
        text-overflow: ellipsis;
        overflow: hidden;
        padding: 0 5%;
		font-size: 12px;
    }

    .overlay-img {
        top: 10px;
        opacity: 1;
    }

    .background-img {
        opacity: 0.9;
    }
}
        
</style>

</head>

<body>
    <div id="preloader" style="display: none;">
        <svg height="300" width="300">

            <circle class="outer" cx="150" cy="150" r="50"></circle>

            <circle class="inner" cx="150" cy="150" r="50">

                <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 150 150"
                    to="360 150 150" dur="2s" repeatCount="indefinite"></animateTransform>
            </circle>

        </svg>
    </div>
    <div id="app-v-page" style="display: block;">
        <header>
            <div class="container">
                <div class="logo"><img src="img/logo.png" alt=""></div>
                <div class="social">
                                        
                                        <a href="https://t.me/HAYALET7777" class="social-button telegram"><svg viewBox="0 0 48 48"
                            fill="none">
                            <path
                                d="M41.4193 7.30899C41.4193 7.30899 45.3046 5.79399 44.9808 9.47328C44.8729 10.9883 43.9016 16.2908 43.1461 22.0262L40.5559 39.0159C40.5559 39.0159 40.3401 41.5048 38.3974 41.9377C36.4547 42.3705 33.5408 40.4227 33.0011 39.9898C32.5694 39.6652 24.9068 34.7955 22.2086 32.4148C21.4531 31.7655 20.5897 30.4669 22.3165 28.9519L33.6487 18.1305C34.9438 16.8319 36.2389 13.8019 30.8426 17.4812L15.7331 27.7616C15.7331 27.7616 14.0063 28.8437 10.7686 27.8698L3.75342 25.7055C3.75342 25.7055 1.16321 24.0823 5.58815 22.459C16.3807 17.3729 29.6555 12.1786 41.4193 7.30899Z">
                            </path>
                        </svg>
                        Telegram
                    </a> 
                                        
                                        
                                        
                                    </div>
                <ul class="links">
                                        
                                        <li><a target="_blank" href="https://t.me/casinohayaletduyuru">
                            <div class="left"><img src="img/duyuru.png" width="30"></div>
                            <div class="right">
                                <p>DUYURU KANALIMIZ</p> <small>Telegram</small>
                            </div>
                        </a></li>
                                        
                                        <li><a target="_blank" href="https://t.me/hayaletcasinosohbet">
                            <div class="left"><img src="img/chat.png" width="30"></div>
                            <div class="right">
                                <p>SOHBET KANALIMIZ</p> <small>Telegram</small>
                            </div>
                        </a></li>
                                    </ul>
            </div>
        </header>
        
        <!-- Kayan Bant (Level 8) Bölümü -->
                <div class="ozel-siteler-banner">
            <div class="ozel-siteler-container">
                <div class="ozel-siteler-slider" id="ozelSitelerSlider">
                    <div class="slider-content" id="sliderContent" style="animation-play-state: running; transform: translateX(100%);">
                                                <a href="https://t.me/HAYALET7777" target="_blank" class="site-item">
                            <img src="img/logo/reklam.gif" alt="Kayan Bant">
                            <div class="giris-btn">REKLAM</div>
                        </a>
                                                <a href="https://cutt.ly/erQniPqh" target="_blank" class="site-item">
                            <img src="img/logo/bankobet.png" alt="Kayan Bant">
                            <div class="giris-btn">GİRİŞ YAP</div>
                        </a>
                                                <a href="https://casinoroys.ws/hayalet" target="_blank" class="site-item">
                            <img src="img/logo/casinoroys.png" alt="Kayan Bant">
                            <div class="giris-btn">GİRİŞ YAP</div>
                        </a>
                                                <a href="https://partner.mersoaff.com/imp\/mersobahis/1704" target="_blank" class="site-item">
                            <img src="img/logo/mersobahis.png" alt="Kayan Bant">
                            <div class="giris-btn">GİRİŞ YAP</div>
                        </a>
                                                <a href="https://shortbal.online/aksiyoncasino" target="_blank" class="site-item">
                            <img src="img/logo/grandpasha.png" alt="Kayan Bant">
                            <div class="giris-btn">GİRİŞ YAP</div>
                        </a>
                                            </div>
                </div>
            </div>
        </div>
        <!-- Kayan bant için yer tutucu (spacer) -->
        <div class="kayan-bant-spacer"></div>
                
        <div class="container">
                <div id="swiper">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                                                            <div class="swiper-slide">
                        <a href="https://cutt.ly/erQniPqh" target="_blank">
                            <img src="img/banner/bankobetban.jpg" width="100%">
                        </a>
                    </div>
                                                                                <div class="swiper-slide">
                        <a href="https://shortbal.online/aksiyoncasino" target="_blank">
                            <img src="img/banner/grandban.jpeg" width="100%">
                        </a>
                    </div>
                                                                                <div class="swiper-slide">
                        <a href="https://casinoroys.ws/hayalet" target="_blank">
                            <img src="img/banner/casinoroysban.jpg" width="100%">
                        </a>
                    </div>
                                                        </div>
            </div>
        </div>

              <div class="img-container" id="hover-sites"></div>
	      <div id="vip-sites" class="row"></div>

<script>
const hoverSites = document.getElementById("hover-sites");
const vipSites = document.getElementById("vip-sites");

fetch('hayalet.json')
  .then(res => res.json())
  .then(data => {
    const { sites, categories, cdn_url } = data.html;
    
    // Örnek: "4 animasyonlu siteler" kategorisini bul
    const animasyonKategori = categories.find(cat => cat.name === "4 animasyonlu siteler");
    if (animasyonKategori) {
      animasyonKategori.sites.forEach(({ site: siteName, bg }) => {
        const site = sites.find(s => s.site === siteName);
        if (!site) return;
        
        hoverSites.innerHTML += `
          <div class="img-box">
            <img src="${cdn_url}${bg}" class="background-img">
            <a href="${site.url}" target="_blank">
              <img src="${site.sitepic}" class="overlay-img">
              <div class="hovertext">${site.desc[0]}<br>${site.desc[1]}</div>
            </a>
          </div>
        `;
      });
    }

    // Örnek: "Üst Alan VIP" kategorisini bul
    const vipKategori = categories.find(cat => cat.name === "Üst Alan VIP");
    if (vipKategori) {
      vipKategori.sites.forEach(({ site: siteName }) => {
        const site = sites.find(s => s.site === siteName);
        if (!site) return;

        vipSites.innerHTML += `
          <div class="col">
            <a href="${site.url}" target="_blank" class="item banner-item" style="--site-color: ${site.color}">
              <div class="left">
                <img src="${site.sitepic}" width="150">
                <div class="text">
                  ${site.desc[0]}
                  <div><small>${site.desc[1]}</small></div>
                </div>
                <div class="button">GİRİŞ YAP</div>
              </div>
              <div class="vip-img"><img src="img/vip.png" width="100"></div>
            </a>
          </div>
        `;
      });
    }

  })
  .catch(err => console.error("JSON çekilirken hata oluştu:", err));

fetch('hayalet.json')
  .then(res => res.json())
  .then(data => {
    const { sites, categories, cdn_url } = data.html;

    // Örnek olarak "Üst Alan VIP" kategorisindeki siteler için
    const vipKategori = categories.find(cat => cat.name === "Üst Alan VIP");
    if (vipKategori) {
      vipKategori.sites.forEach(({ site: siteName }) => {
        const site = sites.find(s => s.site === siteName);
        if (!site) return;

        const container = document.createElement('div');
        container.classList.add('col');

        container.innerHTML = `
          <a href="${site.url}" target="_blank" class="item banner-item" style="--site-color: #ccc">
            <div class="left">
              <img src="${cdn_url}${site.sitepic}" width="150" crossorigin="anonymous" class="site-img">
              <div class="text">
                ${site.desc[0]}
                <div><small>${site.desc[1]}</small></div>
              </div>
              <div class="button">GİRİŞ YAP</div>
            </div>
            <div class="vip-img"><img src="img/vip.png" width="100"></div>
          </a>
        `;

        // Önce DOM'a ekle
        document.getElementById('vip-sites').appendChild(container);

        // Color Thief ile renk tespiti yap
        const img = container.querySelector('.site-img');
        applyDominantColor(img, container.querySelector('.item.banner-item'));
      });
    }
  });
</script>



                <div class="row vip banner4" id="vip-sites"></div>
                  
                        
                                    
                        <div class="row vip banner4">
                                                <div class="col">
                    <a target="_blank" href="https://t.me/HAYALET7777" class="item banner-item">
                        <div class="left">
                            <img src="img/logo/reklam.gif" width="150" class="banner-img" crossorigin="anonymous">
                            <div class="text">
                                Reklam Vermek İçin Tıklayın!                                <div><small></small></div>
                            </div>
                            <div class="button">REKLAM</div>
                        </div>
                        <div class="vip-img"><img src="img/vip.png" width="100"></div>
                    </a>
                </div>
                                                                <div class="col">
                    <a target="_blank" href="https://t2m.co/Hayalet" class="item banner-item">
                        <div class="left">
                            <img src="img/logo/bahisen.png" width="150" class="banner-img" crossorigin="anonymous">
                            <div class="text">
                                500₺ DENEME BONUSU                                <div><small></small></div>
                            </div>
                            <div class="button">GİRİŞ YAP</div>
                        </div>
                        <div class="vip-img"><img src="img/vip.png" width="100"></div>
                    </a>
                </div>
                                                                <div class="col">
                    <a target="_blank" href="https://casinoroys.ws/hayalet" class="item banner-item">
                        <div class="left">
                            <img src="img/logo/casinoroys.png" width="150" class="banner-img" crossorigin="anonymous">
                            <div class="text">
                                %300 HOŞGELDİN BONUSU                                <div><small></small></div>
                            </div>
                            <div class="button">GİRİŞ YAP</div>
                        </div>
                        <div class="vip-img"><img src="img/vip.png" width="100"></div>
                    </a>
                </div>

                                                                <div class="col">
                    <a target="_blank" href="https://cutt.ly/erQniPqh" class="item banner-item">
                        <div class="left">
                            <img src="img/logo/bankobet.png" width="150" class="banner-img" crossorigin="anonymous">
                            <div class="text">
                                250₺ DENEME BONUSU                                <div><small></small></div>
                            </div>
                            <div class="button">GİRİŞ YAP</div>
                        </div>
                        <div class="vip-img"><img src="img/vip.png" width="100"></div>
                    </a>
                </div>
                                                                <div class="col">
                    <a target="_blank" href="https://partner.mersoaff.com/imp/mersobahis/1704" class="item banner-item">
                        <div class="left">
                            <img src="img/logo/mersobahis.png" width="150" class="banner-img" crossorigin="anonymous">
                            <div class="text">
                                25₺ DENEME BONUSU                                <div><small></small></div>
                            </div>
                            <div class="button">GİRİŞ YAP</div>
                        </div>
                        <div class="vip-img"><img src="img/vip.png" width="100"></div>
                    </a>
                </div>
 
                                                                <div class="col">
                    <a target="_blank" href="https://shortbal.online/aksiyoncasino" class="item banner-item">
                        <div class="left">
                            <img src="img/logo/grandpasha.png" width="150" class="banner-img" crossorigin="anonymous">
                            <div class="text">
                                500₺ DENEME BONUSU.                                <div><small></small></div>
                            </div>
                            <div class="button">GİRİŞ YAP</div>
                        </div>
                        <div class="vip-img"><img src="img/vip.png" width="100"></div>
                    </a>
                </div>
                                                                <div class="col">
                    <a target="_blank" href="https://cutt.ly/2411878" class="item banner-item">
                        <div class="left">
                            <img src="img/logo/betovis.png" width="150" class="banner-img" crossorigin="anonymous">
                            <div class="text">
                                250₺ DENEME BONUSU                                <div><small></small></div>
                            </div>
                            <div class="button">GİRİŞ YAP</div>
                        </div>
                        <div class="vip-img"><img src="img/vip.png" width="100"></div>
                    </a>
                </div>
                                                                <div class="col">
                    <a target="_blank" href="https://wanderer-wing.com/s4518f2db" class="item banner-item">
                        <div class="left">
                            <img src="img/logo/alev.png" width="150" class="banner-img" crossorigin="anonymous">
                            <div class="text">
                                DENEME BONUSU                                <div><small></small></div>
                            </div>
                            <div class="button">GİRİŞ YAP</div>
                        </div>
                        <div class="vip-img"><img src="img/vip.png" width="100"></div>
                    </a>
                </div>
                                                                <div class="col">
                    <a target="_blank" href="https://kroyal.win/t95de5461" class="item banner-item">
                        <div class="left">
                            <img src="img/logo/meritking.png" width="150" class="banner-img" crossorigin="anonymous">
                            <div class="text">
                                500 FREESPİN DENEME BONUSU                                <div><small></small></div>
                            </div>
                            <div class="button">GİRİŞ YAP</div>
                        </div>
                        <div class="vip-img"><img src="img/vip.png" width="100"></div>
                    </a>
                </div>
                            
                                            </div>
                        
                        
                        
                        <div>
                <div class="bottom-fixed banner-item">
                    <div class="button">
                        <div class="close">
                            <svg viewBox="0 0 24 24" fill="none">
                                <g id="Edit / Close_Circle">
                                    <path id="Vector"
                                        d="M9 9L11.9999 11.9999M11.9999 11.9999L14.9999 14.9999M11.9999 11.9999L9 14.9999M11.9999 11.9999L14.9999 9M12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21Z"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                                </g>
                            </svg>
                        </div>
                    </div>
                    <div class="logo"><img src="img/logo/bahisen.png" width="150" class="banner-img" crossorigin="anonymous"></div>
                    <div class="center">
                        <h1>500₺ DENEME BONUSU.</h1>
                        <p></p>
                    </div> <a href="https://t2m.co/Hayalet" target="_blank">
                        GİRİŞ YAP
                    </a>
                </div>
            </div>
                        
                        <div class="popup-overlay"></div>
            <div>
                <div class="notify-fixed banner-item" style="display: none;">
                    <div class="button">
                        <div class="close"><svg viewBox="0 0 24 24" fill="none">
                                <g id="Edit / Close_Circle">
                                    <path id="Vector"
                                        d="M9 9L11.9999 11.9999M11.9999 11.9999L14.9999 14.9999M11.9999 11.9999L9 14.9999M11.9999 11.9999L14.9999 9M12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21Z"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                                </g>
                            </svg></div>
                    </div>
                    <h3 style="font-size: 12px; margin: 10px 0px 0px;">500₺ DENEME BONUSU</h3>
                    <div class="logo"><img src="img/logo/bahisen.png" width="150" class="banner-img" crossorigin="anonymous"></div>
                    <div class="center" style="margin: 0px;">
                        <h1 style="margin: 0px;">500₺ DENEME BONUSU TIKLA ÜYE OL.</h1>
                    </div> 
                    <small style="margin-bottom: 5px; opacity: 0.5;">0 RİSK BONUSU İLE KAYBETMEK YOK</small> 
                    <a href="https://t2m.co/Hayalet" target="_blank">
                        GİRİŞ YAP
                    </a>
                </div>
            </div>
                        
            <div class="footer-c">
                <div class="licence">
                CasinoHayalet tüm hakları saklıdır.
                </div> <a target="_blank" href="https://t.me/randykatleden" class="cpyrght">
                    This App Provided By AFK</a>
            </div>
        </div>
        <!---->
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            document.getElementById('preloader').style.display = 'none';
            document.getElementById('app-v-page').style.display = 'block';
            
            // Color Thief kullanarak baskın renk tespiti
            const colorThief = new ColorThief();
            
            // Beyaz veya çok açık renkler için kontrol fonksiyonu
            function isWhiteOrVeryLight(rgb) {
                // r, g, b değerlerinin toplamı belirli bir eşiği geçerse açık renk kabul et
                return (rgb[0] > 220 && rgb[1] > 220 && rgb[2] > 220) || 
                       (rgb[0] + rgb[1] + rgb[2] > 650);
            }
            
            // RGB değerlerini HEX renge dönüştürme
            function rgbToHex(r, g, b) {
                return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
            }
            
            // İkinci baskın rengi alıp beyaz değilse uygula
            function applyDominantColor(img, element) {
                try {
                    if (img.complete) {
                        // Resmin palette'ini al (dominant renkler)
                        const palette = colorThief.getPalette(img, 5);
                        
                        // İlk beyaz olmayan rengi bul
                        let dominantColor = palette[0]; // Varsayılan olarak en baskın renk
                        
                        for (let i = 0; i < palette.length; i++) {
                            if (!isWhiteOrVeryLight(palette[i])) {
                                dominantColor = palette[i];
                                break;
                            }
                        }
                        
                        // RGB'yi hex'e dönüştür
                        const hexColor = rgbToHex(dominantColor[0], dominantColor[1], dominantColor[2]);
                        
                        // Rengi elemana CSS değişkeni olarak ekle
                        element.style.setProperty('--site-color', hexColor);
                        
                        // Notify-fixed (popup) için özel stil ayarları
                        if (element.classList.contains('notify-fixed')) {
                            // CSS değişkeni zaten eklendi, tüm stiller ona bağlı
                            // Ek olarak özelleştirmek istediğiniz elementler varsa:
                            const h3 = element.querySelector('h3');
                            if (h3) h3.style.color = hexColor;
                            
                            const closeBtn = element.querySelector('.close svg path');
                            if (closeBtn) closeBtn.style.stroke = hexColor;
                        }
                    } else {
                        // Resim henüz yüklenmediyse yüklenme olayını dinle
                        img.addEventListener('load', function() {
                            applyDominantColor(img, element);
                        });
                    }
                } catch (error) {
                    console.error('Renk tespiti hatası:', error);
                }
            }
            
            // Tüm banner görsellerini işle
            document.querySelectorAll('.banner-item').forEach(function(bannerItem) {
                const img = bannerItem.querySelector('.banner-img');
                if (img) {
                    applyDominantColor(img, bannerItem);
                }
            });

            // Kayan bant öğelerini işle ve renkleri uygula
            document.querySelectorAll('.site-item').forEach(function(siteItem) {
                const img = siteItem.querySelector('img');
                if (img) {
                    try {
                        // Resim yüklendiyse renk tespiti yap
                        if (img.complete) {
                            applyBandItemColor(img, siteItem);
                        } else {
                            // Resim henüz yüklenmediyse yüklenme olayını dinle
                            img.addEventListener('load', function() {
                                applyBandItemColor(img, siteItem);
                            });
                        }
                    } catch (error) {
                        console.error('Kayan bant renk tespiti hatası:', error);
                    }
                }
            });
            
            // Kayan bant öğeleri için renk tespiti
            function applyBandItemColor(img, element) {
                try {
                    // Resmin palette'ini al (dominant renkler)
                    const palette = colorThief.getPalette(img, 5);
                    
                    // İlk beyaz olmayan rengi bul
                    let dominantColor = palette[0]; // Varsayılan olarak en baskın renk
                    
                    for (let i = 0; i < palette.length; i++) {
                        if (!isWhiteOrVeryLight(palette[i])) {
                            dominantColor = palette[i];
                            break;
                        }
                    }
                    
                    // RGB değerlerini al
                    const r = dominantColor[0];
                    const g = dominantColor[1];
                    const b = dominantColor[2];
                    
                    // RGB'yi hex'e dönüştür
                    const hexColor = rgbToHex(r, g, b);
                    
                    // Hem HEX hem de RGB değişkenlerini ayarla
                    element.style.setProperty('--band-color', hexColor);
                    element.style.setProperty('--band-color-rgb', `${r}, ${g}, ${b}`);
                } catch (error) {
                    console.error('Kayan bant renk tespiti işlem hatası:', error);
                }
            }
           // alt banner             
            let currentIndex = 0;
            
            function updateFooterBanner() {
                const footerBannerContainer = document.querySelector('.bottom-fixed.banner-item');
                if (!footerBannerContainer) return;

                fetch('hayalet.json?t=' + new Date().getTime())
                    .then(response => response.json())
                    .then(data => {
                        const banners = data.bottom_fix;
                        if (!banners || !banners.length) return;

                        const banner = banners[currentIndex];
                        currentIndex = (currentIndex + 1) % banners.length;

                        const logoImg = footerBannerContainer.querySelector('.logo img');
                        if (logoImg) {
                            logoImg.src = 'img/logo/' + banner.image;
                            logoImg.onload = function() {
                                applyDominantColor(logoImg, footerBannerContainer);
                            };
                        }

                        const headerEl = footerBannerContainer.querySelector('h1');
                        if (headerEl) headerEl.textContent = banner.header;

                        const textEl = footerBannerContainer.querySelector('p');
                        if (textEl) textEl.textContent = banner.sub_text;

                        const linkEl = footerBannerContainer.querySelector('a');
                        if (linkEl) linkEl.href = banner.link;
                    })
                    .catch(error => console.error('Footer banner güncelleme hatası:', error));
            }

            if (document.querySelector('.bottom-fixed.banner-item')) {
                updateFooterBanner();
                setInterval(updateFooterBanner, 4000);
            }


            // Swiper slider'ı başlat
            var swiper = new Swiper('.swiper-container', {
                slidesPerView: 1,
                spaceBetween: 30,
                loop: true,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                autoplay: {
                    delay: 5000,
                    disableOnInteraction: false,
                },
            });

            var nav = document.querySelector('#app-v-page');
            var navTop = 100; // Sayfanın belirli bir noktasından sonra fixed olması için
            
            // Kayan bant öğesi
            const scrollingBanner = document.querySelector('.ozel-siteler-banner');
            const sliderContent = document.getElementById('sliderContent');
            const kayanBantSpacer = document.querySelector('.kayan-bant-spacer');
            
            // Kayan bandın scroll pozisyonuna göre fixed hale gelmesi
            function handleScroll() {
                if (window.scrollY >= navTop) {
                    document.querySelector('#app-v-page').classList.add('is-fixed');
                    if (scrollingBanner) {
                        scrollingBanner.classList.add('fixed');
                        if (kayanBantSpacer) {
                            kayanBantSpacer.classList.add('active');
                        }
                    }
                } else {
                    document.querySelector('#app-v-page').classList.remove('is-fixed');
                    if (scrollingBanner) {
                        scrollingBanner.classList.remove('fixed');
                        if (kayanBantSpacer) {
                            kayanBantSpacer.classList.remove('active');
                        }
                    }
                }
            }
            
            window.addEventListener('scroll', handleScroll);
            
            // Sayfa yüklendiğinde fixed sınıfını kontrol et
            handleScroll();
            
            // Marque animasyonunu duraklat/devam ettir
            if (sliderContent) {
                sliderContent.addEventListener('mouseenter', function() {
                    this.style.animationPlayState = 'paused';
                });
                
                sliderContent.addEventListener('mouseleave', function() {
                    this.style.animationPlayState = 'running';
                });
            }
            
            // Kapat düğmesi işlevselliği
            document.querySelectorAll('.close').forEach(function(closeBtn) {
                closeBtn.addEventListener('click', function(e) {
                    e.stopPropagation(); // Tıklamanın üst elementlere yayılmasını engelle
                    const popupOverlay = document.querySelector('.popup-overlay');
                    const element = this.closest('.bottom-fixed, .notify-fixed');
                    element.style.display = 'none';
                    
                    // Eğer bu notify-fixed (popup) ise overlay'i de gizle
                    if (element.classList.contains('notify-fixed') && popupOverlay) {
                        popupOverlay.style.display = 'none';
                    }
                });
            });
            
            // Overlay'e tıklandığında da popup'ı kapat
            document.querySelector('.popup-overlay')?.addEventListener('click', function() {
                const notifyFixed = document.querySelector('.notify-fixed');
                if (notifyFixed) {
                    notifyFixed.style.display = 'none';
                    this.style.display = 'none';
                }
            });
            
            // Mobil kontrol
            function checkMobile() {
                // Mobil cihaz tespiti
                const isMobile = Math.min(window.screen.width, window.screen.height) < 768 || navigator.userAgent.indexOf("Mobi") > -1;
                
                if (isMobile) {
                    document.getElementById('app-v-page').classList.add('mobile');
                } else {
                    document.getElementById('app-v-page').classList.remove('mobile');
                }
                
                // Kayan bant varsa animasyonları ayarla
                const sliderContent = document.getElementById('sliderContent');
                if (sliderContent) {
                    if (isMobile) {
                        // Mobil cihazda kayan bandın animasyon özelliklerini ayarla
                        if (window.innerWidth <= 480) {
                            // Çok küçük ekranlar için
                            sliderContent.style.animationDuration = '18s';
                            sliderContent.style.animationName = 'marquee-mobile';
                        } else {
                            // Normal mobil cihazlar için
                            sliderContent.style.animationDuration = '20s';
                            sliderContent.style.animationName = 'marquee-mobile';
                        }
                        
                        // Animasyonun hemen başlamasını sağla
                        sliderContent.style.animationDelay = '0s';
                        
                        // Mobilde ilk konumun görünür olmasını sağla
                        sliderContent.style.transform = 'translateX(5%)';
                    } else {
                        // Masaüstü cihazlar için animasyon
                        sliderContent.style.animationDuration = '15s';
                        sliderContent.style.animationName = 'marquee-desktop';
                        
                        // Masaüstünde animasyonun sağdan başlamasını sağla
                        sliderContent.style.animationDelay = '0s';
                        sliderContent.style.transform = 'translateX(100%)';
                    }
                    
                    // Animasyonu hemen başlat
                    sliderContent.style.animationPlayState = 'running';
                }
            }
            
            // Sayfa yüklenir yüklenmez hemen çalıştır
            checkMobile();
            
            // DOMContentLoaded ve onload'da tekrar kontrol et
            document.addEventListener('DOMContentLoaded', checkMobile);
            window.addEventListener('load', checkMobile);
            
            // Ekran boyutu değiştiğinde animasyonu resetle
            window.addEventListener('resize', function() {
                // Animasyonu durdur ve sıfırla
                const sliderContent = document.getElementById('sliderContent');
                if (sliderContent) {
                    sliderContent.style.animationPlayState = 'paused';
                    
                    // Kısa bir süre sonra yeniden başlat (animasyonun yeniden hesaplanması için)
                    setTimeout(function() {
                        checkMobile();
                    }, 50);
                } else {
                    // Kayan bant olmasa da mobil kontrolü yap
                    checkMobile();
                }
                
                handleScroll(); // Scroll durumunu da güncelle
            });
            
            // Popup banner'ı göster ve Color Thief ile renklendir
            setTimeout(function() {
                const notifyFixed = document.querySelector('.notify-fixed');
                const popupOverlay = document.querySelector('.popup-overlay');
                
                if (notifyFixed) {
                    // Popup'ı göstermeden önce renk uygulaması tamamlansın
                    const popupImg = notifyFixed.querySelector('.banner-img');
                    
                    if (popupImg && !popupImg.complete) {
                        // Eğer resim henüz yüklenmediyse, yüklenmesini bekle
                        popupImg.onload = function() {
                            applyDominantColor(popupImg, notifyFixed);
                            // Renk uygulandıktan sonra popup'ı göster
                            notifyFixed.style.display = 'flex';
                            if (popupOverlay) popupOverlay.style.display = 'block';
                        };
                    } else {
                        // Resim zaten yüklendiyse, rengi uygula ve popup'ı göster
                        if (popupImg) {
                            applyDominantColor(popupImg, notifyFixed);
                        }
                        notifyFixed.style.display = 'flex';
                        if (popupOverlay) popupOverlay.style.display = 'block';
                    }
                }
            }, 3000);
            
            // Color Thief işlemlerinin tamamlandığından emin olmak için
            // tüm kayan bant öğeleri yüklendikten sonra animasyonu tekrar başlat
            if (sliderContent) {
                setTimeout(function() {
                    // Animasyonu kısa bir süre durdur
                    sliderContent.style.animationPlayState = 'paused';
                    
                    // Sonra tekrar başlat
                    setTimeout(function() {
                        sliderContent.style.animationPlayState = 'running';
                    }, 100);
                }, 500);
            }
            
            // Sayfa yüklendiğinde mobil veya masaüstü durumuna göre ayarları uygula
            checkMobile();
            
            // DOMContentLoaded ve onload'da tekrar kontrol et
            document.addEventListener('DOMContentLoaded', checkMobile);
            window.addEventListener('load', checkMobile);
            
            // Ekran boyutu değiştiğinde animasyonu resetle
            window.addEventListener('resize', function() {
                // Animasyonu durdur ve sıfırla
                const sliderContent = document.getElementById('sliderContent');
                if (sliderContent) {
                    sliderContent.style.animationPlayState = 'paused';
                    
                    // Kısa bir süre sonra yeniden başlat (animasyonun yeniden hesaplanması için)
                    setTimeout(function() {
                        checkMobile();
                    }, 50);
                } else {
                    // Kayan bant olmasa da mobil kontrolü yap
                    checkMobile();
                }
                
                handleScroll(); // Scroll durumunu da güncelle
            });
        });
    </script>
</body>

</html>
